<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Hospital Room Optimization Using IoT</title>
    <link rel="shortcut icon" href="{{url_for('static', filename='images/fav.png') }}" type="image/x-icon">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.7.2/lottie.min.js"></script>



    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;500&display=swap" rel="stylesheet">
    <link rel="shortcut icon" href="{{url_for('static', filename='images/fav.jpg') }}">
    <link rel="stylesheet" href="{{url_for('static', filename='css/all.min.css') }}">
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='css/style.css') }}" />
</head>

<body>
    <div id="welcomeModal" class="modal">
        <div class="modal-content">
          <h1>Welcome to Hospital Room Occupancy App</h1>
          <div class="animation-element" id="animation-container-1"></div>
          <button id="enterButton" class="enter-button">Enter</button>
        </div>
      </div>
    <header>
        <div class="nav-row">
            <div class="container">
                <!--Navbar Start-->
                <nav class="navbar navbar-expand-lg bg-light">
                    <div class="container-fluid">
                        <div class="collapse navbar-collapse" id="navbarNavDropdown">
                            <ul class="navbar-nav">
                                <form method="post" action="{{ url_for('send_data') }}">
                                    <select class="cool-select" name="room_id" onchange="this.form.submit()">
                                        {% for room_id in room_ids %}
                                        <option class="cool-item" value="{{ room_id }}" {% if room_id==selected_room
                                            %}selected{% endif %}>{{ room_id }}</option>
                                        {% endfor %}
                                    </select>
                                </form>
                                <!-- <li class="nav-item dropdown">
                            <a class="nav-link active dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                              Dropdown link
                            </a>
                            
                            <ul class="dropdown-menu">
                              <li><a class="dropdown-item" href="#">Action</a></li>
                              <li><a class="dropdown-item" href="#">Another action</a></li>
                              <li><a class="dropdown-item" href="#">Something else here</a></li>
                            </ul>
                          </li> -->
                            </ul>
                        </div>
                    </div>
                </nav>
                <!--Navbar End-->
            </div>
        </div>
    </header>

    <section class="services container-fluid">
        {% for item in room_data %}
        <div class="container">
            <div class="row section-title">
                <h2>Hospital Room Occupancy App v1.0</h2>
                <div class="animation-element" id="animation-container-1"></div>
            </div>
            <div class="servic-row row">
                <div class="servic-col col-md-4">
                    <div class="servcover">
                        <h4>MoistureMate</h4>
                        <div id="animation-container-5"></div>
                        <!-- <img src="{{url_for('static', filename='images/eco.gif') }}"> -->
                        <p><strong>Humidity:</strong> {{ item['humidity'] }}</p>
                        <p><strong>Humidity Ratio:</strong> {{ item['humidity_ratio'] }}</p>
                    </div>

                </div>
                <div class="servic-col col-md-4" style="margin-top:100px;">
                    <div class="servcover">
                        <!-- <img src="assets/images/icon/002.png" alt=""> -->
                        <h4>Prediction</h4>
                        <p><strong>Room {{ item['predictions'] }}</strong></p>
                        <p><strong>Timestamp:</strong> {{ item['timestamp'] }}</p>
                        <p><strong>Room ID:</strong> {{ item['room_id'] }}</p>
                    </div>

                </div>
                <div class="servic-col col-md-4">
                    <div class="servcover">
                        <h4>CarbonSense</h4>
                        <div id="animation-container-4"></div>
                        <!-- <img src="{{url_for('static', filename='images/pollution.gif') }}"> -->
                        <p><strong>CO2:</strong> {{ item['co2'] }}</p>
                    </div>

                </div>
                <div class="servic-col col-md-4">
                    <div class="servcover">
                        <h4>LuxMeter</h4>
                        <div id="animation-container-3"></div>
                        <!-- <img src="{{url_for('static', filename='images/lightbulb.gif') }}"> -->
                        <p><strong>Light Level:</strong> {{ item['light_level'] }}</p>
                    </div>

                </div>
                <div class="servic-col col-md-4">
                </div>
                <div class="servic-col col-md-4">
                    <div class="servcover">
                        <h4>SmartThermo</h4>
                        <div id="animation-container-2"></div>
                        <!-- <img src="{{url_for('static', filename='images/temperature.gif') }}"> -->
                        <p><strong>Temperature:</strong> {{ item['temperature'] }} Â°C</p>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </section>

    <script>
        var animationContainer1 = document.getElementById('animation-container-1');
        var animationData1 = '/lottie-animation-1';
        var animation1 = bodymovin.loadAnimation({
            container: animationContainer1,
            renderer: 'svg',
            loop: true,
            autoplay: true,
            path: animationData1
        });
    </script>

    <script>
        var animationContainer2 = document.getElementById('animation-container-2');
        var animationData2 = '/lottie-animation-2';
        var animation2 = bodymovin.loadAnimation({
            container: animationContainer2,
            renderer: 'svg',
            loop: true,
            autoplay: true,
            path: animationData2
        });
    </script>

    <script>
        var animationContainer2 = document.getElementById('animation-container-3');
        var animationData2 = '/lottie-animation-3';
        var animation2 = bodymovin.loadAnimation({
            container: animationContainer2,
            renderer: 'svg',
            loop: true,
            autoplay: true,
            path: animationData2
        });
    </script>

    <script>
        var animationContainer2 = document.getElementById('animation-container-4');
        var animationData2 = '/lottie-animation-4';
        var animation2 = bodymovin.loadAnimation({
            container: animationContainer2,
            renderer: 'svg',
            loop: true,
            autoplay: true,
            path: animationData2
        });
    </script>

    <script>
        var animationContainer2 = document.getElementById('animation-container-5');
        var animationData2 = '/lottie-animation-5';
        var animation2 = bodymovin.loadAnimation({
            container: animationContainer2,
            renderer: 'svg',
            loop: true,
            autoplay: true,
            path: animationData2
        });
    </script>


    <script>
        setInterval(function() {
          location.reload();
        }, 60000);
        </script>

    <script>
        // Check if the modal has been shown before
        if (!localStorage.getItem('modalShown')) {
            // Display the modal
            document.getElementById('welcomeModal').style.display = 'block';
            // Blur the background content
            document.querySelector('.container').classList.add('blurred');
            document.querySelector('.services').classList.add('blurred');

            // Add a click event listener to the enter button
            document.getElementById('enterButton').addEventListener('click', function () {
                // Set a flag to indicate that the modal has been shown
                localStorage.setItem('modalShown', 'true');
                // Hide the modal
                document.getElementById('welcomeModal').style.display = 'none';
                // Remove the blur effect from the background content
                document.querySelector('.container').classList.remove('blurred');
                document.querySelector('.services').classList.remove('blurred');
            });
        }
    </script>

    <!--********************************* Footer Starts Here ********************************************-->


    <footer>
        <div class="copy" style="text-align: center;">
            <div class="container">
                <a href="#">2023 &copy; All Rights Reserved</a>

            </div>
        </div>


</body>


<script src="{url_for('static', filename='js/jquery-3.2.1.min.js') }}"></script>
<script src="{url_for('static', filename='js/popper.min.js') }}"></script>
<script src="{url_for('static', filename='js/bootstrap.bundle.min.js') }}"></script>
<script src="{url_for('static', filename='js/script.js') }}"></script>

</html>